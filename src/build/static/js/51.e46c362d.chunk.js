"use strict";(self.webpackChunkglumydevfrontend=self.webpackChunkglumydevfrontend||[]).push([[51],{7489:function(e,n,t){t.d(n,{N:function(){return o},p:function(){return c}});var r=t(4165),a=t(5861),s=t(8278),i=t(1243),o=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a,o,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:s.k1}),a=e,n.next=5,i.Z.post("http://127.0.0.1:4000/user",a);case 5:o=n.sent,c=o.data,t(c?{type:s.hk,payload:c}:{type:s.K_}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t({type:s.K_,errormessage:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},c=function(e,n){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(a){var o,c,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:s.mA}),o={headers:{"Content-type":"application/json"}},t.next=5,i.Z.post("http://127.0.0.1:4000/user/login",{username:e,password:n},o);case 5:c=t.sent,l=c.data,localStorage.setItem("userInfo",JSON.stringify(l)),a({type:s.wW,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:s.P,error:t.t0.data&&t.t0.data.detail?t.t0.data.detail:"Wrong Credentials"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}},3817:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(2791),a=t(1413),s=t(5987),i=t(1694),o=t.n(i),c=t(8580),l=t(9007),u=t(1396),d=t(162),f=t(2709),p=t(473),h=t(7472),v=t(6543),Z=t(184),m=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],x=(0,h.Z)("h4");x.displayName="DivStyledAsH4";var j=(0,v.Z)("alert-heading",{Component:x}),g=(0,v.Z)("alert-link",{Component:u.Z}),y={variant:"primary",show:!0,transition:f.Z,closeLabel:"Close alert"},b=r.forwardRef((function(e,n){var t=(0,c.Ch)(e,{show:"onClose"}),r=t.bsPrefix,i=t.show,u=t.closeLabel,h=t.closeVariant,v=t.className,x=t.children,j=t.variant,g=t.onClose,y=t.dismissible,b=t.transition,C=(0,s.Z)(t,m),w=(0,d.vE)(r,"alert"),k=(0,l.Z)((function(e){g&&g(!1,e)})),N=!0===b?f.Z:b,L=(0,Z.jsxs)("div",(0,a.Z)((0,a.Z)({role:"alert"},N?void 0:C),{},{ref:n,className:o()(v,w,j&&"".concat(w,"-").concat(j),y&&"".concat(w,"-dismissible")),children:[y&&(0,Z.jsx)(p.Z,{onClick:k,"aria-label":u,variant:h}),x]}));return N?(0,Z.jsx)(N,(0,a.Z)((0,a.Z)({unmountOnExit:!0},C),{},{ref:void 0,in:i,children:L})):i?L:null}));b.displayName="Alert",b.defaultProps=y;var C=Object.assign(b,{Link:g,Heading:j});var w=function(e){var n=e.variant,t=e.children;return(0,Z.jsx)(C,{variant:n,children:t})}},7051:function(e,n,t){t.r(n);var r=t(9439),a=t(2791),s=t(7022),i=t(9743),o=t(2677),c=t(3855),l=t(3360),u=t(3555),d=t(9434),f=t(7689),p=t(7489),h=t(3817),v=t(2592),Z=t(184);n.default=function(){var e=(0,a.useState)(""),n=(0,r.Z)(e,2),t=n[0],m=n[1],x=(0,a.useState)(""),j=(0,r.Z)(x,2),g=j[0],y=j[1],b=(0,a.useState)(!1),C=(0,r.Z)(b,2),w=C[0],k=C[1],N=(0,d.I0)(),L=(0,d.v9)((function(e){return e.userLogin})),I=L.error,S=L.loading,P=L.userInfo,E=(0,f.s0)();return(0,a.useEffect)((function(){P&&"success"===P.status&&(k(!0),setTimeout((function(){E("/")}),1e3))}),[P,E]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{}),S&&(0,Z.jsx)(v.Z,{}),I&&(0,Z.jsx)(h.Z,{variant:"danger",children:"Invalid Crendentials"}),w&&(0,Z.jsx)(h.Z,{variant:"success",children:"Login Successful"}),P&&"No User Found"===P.status?(0,Z.jsx)(h.Z,{variant:"danger",children:"Invalid Crendentials"}):null,(0,Z.jsx)(s.Z,{className:"d-flex justify-content-center mt-4",children:(0,Z.jsx)(i.Z,{children:(0,Z.jsxs)(o.Z,{children:[(0,Z.jsx)("h1",{className:"text-center my-4",children:"Login"}),(0,Z.jsxs)(c.Z,{onSubmit:function(e){e.preventDefault(),N((0,p.p)(t,g)),m(""),y("")},children:[(0,Z.jsxs)(c.Z.Group,{controlId:"formBasicEmail",children:[(0,Z.jsx)(c.Z.Label,{children:"Username"}),(0,Z.jsx)(c.Z.Control,{type:"text",placeholder:"Enter username",value:t,onChange:function(e){return m(e.target.value)}})]}),(0,Z.jsxs)(c.Z.Group,{controlId:"formBasicPassword",children:[(0,Z.jsx)(c.Z.Label,{children:"Password"}),(0,Z.jsx)(c.Z.Control,{type:"password",placeholder:"Password",value:g,onChange:function(e){return y(e.target.value)}})]}),(0,Z.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{height:"14vh"},children:(0,Z.jsx)("div",{className:"text-center",children:(0,Z.jsx)(l.Z,{className:"login-button",variant:"success",type:"submit",children:"Login"})})})]})]})})})]})}}}]);
//# sourceMappingURL=51.e46c362d.chunk.js.map