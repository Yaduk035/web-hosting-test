"use strict";(self.webpackChunkglumydevfrontend=self.webpackChunkglumydevfrontend||[]).push([[37],{8274:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var s=n(1413),a=n(9439),i=n(2791),o=n(9140),r=n(3360),c=n(2677),l=n(9743),d=n(5316),u=(n(5521),n(5366)),x=n(184);var h=function(e){var t=e.jobTitle,n=e.companyName,s=e.jobDescription,h=e.salary,j=e.location,m=e.highestQualification,f=e.postedBy,b=e.createdAt,p=e.updatedAt,Z=e.jobId,y=e.onDelete,g=e.upJobId,v=(0,i.useState)(!1),A=(0,a.Z)(v,2),N=A[0],T=A[1],D=(0,i.useState)(!1),k=(0,a.Z)(D,2),S=k[0],C=k[1],I=(0,i.useState)(!1),B=(0,a.Z)(I,2),w=B[0],J=B[1];return(0,x.jsxs)(c.Z,{xs:12,md:6,lg:6,xl:4,xxl:3,children:[(0,x.jsx)("div",{style:{padding:"10px"},children:(0,x.jsx)(o.Z,{style:{border:"3px dashed rgba(44, 41, 41, 0.400"},className:N?"job-card hovered":"job-card",onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},children:(0,x.jsxs)(o.Z.Body,{className:"jobCard",children:[(0,x.jsx)(o.Z.Title,{className:"text-primary text-center",children:t}),(0,x.jsx)("br",{}),(0,x.jsxs)(o.Z.Text,{className:"mb-2",children:["Company: ",n]}),(0,x.jsxs)(o.Z.Text,{className:"mb-2",children:["Qualification: ",m]}),(0,x.jsxs)(o.Z.Text,{className:"mb-2",children:["Job Location: ",j]}),(0,x.jsxs)(o.Z.Text,{children:["Salary: ",h,"/- INR"]}),(0,x.jsxs)(o.Z.Text,{children:["Description:",(0,x.jsx)("br",{}),s]}),(0,x.jsxs)(o.Z.Text,{className:"smalltext text-muted",children:["Job listing created at: ",b]}),(0,x.jsxs)(o.Z.Text,{className:"smalltext text-muted",children:["Job listing updated at: ",p]}),(0,x.jsxs)(o.Z.Text,{className:"smalltext text-muted",children:["Posted By: ",f]}),(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(c.Z,{xs:6,sm:6,children:(0,x.jsx)(r.Z,{variant:"dark",size:"sm",block:!0,onClick:function(){J(!0)},children:"Update"})}),(0,x.jsx)(c.Z,{xs:6,sm:6,children:(0,x.jsx)(r.Z,{variant:"outline-danger",size:"sm",block:!0,onClick:function(){return C(!0)},children:"Delete"})})]})]})})}),(0,x.jsxs)(d.Z,{show:S,onHide:function(){return C(!1)},children:[(0,x.jsx)(d.Z.Header,{closeButton:!0,children:(0,x.jsx)(d.Z.Title,{children:"Confirm Deletion"})}),(0,x.jsx)(d.Z.Body,{className:"smalltext",children:"Are you sure you want to delete this job listing?"}),(0,x.jsxs)(d.Z.Footer,{children:[(0,x.jsx)(r.Z,{variant:"secondary",size:"sm",onClick:function(){return C(!1)},children:"Cancel"}),(0,x.jsx)(r.Z,{variant:"danger",size:"sm",onClick:function(){y(Z),C(!1)},children:"Delete"})]})]}),(0,x.jsx)(u.Z,{show:w,onHide:function(){J(!1)},upJobId:g,jobTitle:t,companyName:n,jobDescription:s,salary:h,location:j,highestQualification:m,postedBy:f,createdAt:b,updatedAt:p})]})},j=n(7022),m=n(3555),f=n(217),b=function(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),n=t[0],o=t[1];(0,i.useEffect)((function(){var e=function(){fetch("http://localhost:4000/jobs").then((function(e){return e.json()})).then((function(e){var t=e.jobs.map((function(e){var t=new Date(e.createdAt).toLocaleString("en-US",{timeZone:"Asia/Kolkata"})+" IST",n=new Date(e.updatedAt).toLocaleString("en-US",{timeZone:"Asia/Kolkata"})+" IST";return(0,s.Z)((0,s.Z)({},e),{},{createdAt:t,updatedAt:n})}));o(t)})).catch((function(e){return console.log(e)}))},t=setInterval((function(){e()}),1500);return e(),function(){return clearInterval(t)}}),[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Z,{}),(0,x.jsxs)(j.Z,{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("br",{}),(0,x.jsx)("h2",{className:"text-center",children:"Admin Dashboard: Manage Job Postings"}),(0,x.jsx)("br",{})]}),(0,x.jsx)(l.Z,{children:Array.isArray(n)&&n.length>0?n.map((function(e){return(0,x.jsx)(h,{jobTitle:e.jobTitle,companyName:e.companyName,jobDescription:e.jobDescription,salary:e.salary,location:e.location,highestQualification:e.highestQualification,postedBy:e.postedBy,createdAt:e.createdAt,updatedAt:e.updatedAt,onDelete:function(){return t=e._id,void fetch("http://localhost:4000/jobs/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){o((function(e){return e.filter((function(e){return e._id!==t}))})),console.log(e.message)})).catch((function(e){return console.log(e)}));var t},upJobId:e._id},e._id)})):(0,x.jsx)("p",{children:"No jobs available."})})]}),(0,x.jsx)(f.Z,{})]})}}}]);
//# sourceMappingURL=37.416bd992.chunk.js.map